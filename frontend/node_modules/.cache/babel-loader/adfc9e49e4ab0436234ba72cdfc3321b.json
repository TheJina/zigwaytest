{"ast":null,"code":"import _defineProperty from \"/home/yakshit-jain/zigwaytest/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/yakshit-jain/zigwaytest/frontend/src/views/Login.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\"; // reactstrap components\n\nimport { Button, Card, CardBody, FormGroup, Form, Input, InputGroupAddon, InputGroupText, InputGroup, Container, Row, Col } from \"reactstrap\"; // core components\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handle_change = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState(prevstate => {\n        const newState = _objectSpread({}, prevstate);\n\n        newState[name] = value;\n        return newState;\n      });\n    };\n\n    this.handle_login = e => {\n      e.preventDefault();\n      let data = {\n        username: this.state.username,\n        password: this.state.password\n      };\n      fetch('http://localhost:8000/api/token/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(res => {\n        if (!res.ok) {\n          alert(\"Unauthorized access\");\n        } else {\n          res.json().then(response => {\n            localStorage.setItem('jwta', response.access);\n            localStorage.setItem('jwtr', response.refresh);\n            this.setState({\n              logged_in: true\n            });\n          });\n        }\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      logged_in: localStorage.getItem('jwta') ? true : false\n    };\n  }\n\n  render() {\n    if (this.state.logged_in) return React.createElement(Redirect, {\n      to: \"/profile-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    });\n    return React.createElement(React.Fragment, null, React.createElement(\"main\", {\n      ref: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"section section-lg section-shaped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"display-3 text-white text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"User Login \"), React.createElement(\"div\", {\n      className: \"shape shape-style-1 shape-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(Container, {\n      className: \"pt-lg-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: \"bg-secondary shadow border-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      className: \"px-lg-5 py-lg-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Form, {\n      role: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      className: \"mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(InputGroup, {\n      className: \"input-group-alternative\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(InputGroupAddon, {\n      addonType: \"prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(InputGroupText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ni ni-circle-08\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }))), React.createElement(Input, {\n      placeholder: \"Username\",\n      type: \"text\",\n      name: \"username\",\n      onChange: this.handle_change,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(InputGroup, {\n      className: \"input-group-alternative\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(InputGroupAddon, {\n      addonType: \"prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(InputGroupText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ni ni-lock-circle-open\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }))), React.createElement(Input, {\n      placeholder: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      autoComplete: \"off\",\n      onChange: this.handle_change,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"my-4\",\n      color: \"primary\",\n      onClick: this.handle_login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Sign in\"))))), React.createElement(Row, {\n      className: \"mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"text-center\",\n      xs: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Button, {\n      to: \"/register-page\",\n      tag: Link,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Create New Account\")))))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/yakshit-jain/zigwaytest/frontend/src/views/Login.jsx"],"names":["React","Link","Redirect","Button","Card","CardBody","FormGroup","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Container","Row","Col","Login","Component","constructor","handle_change","e","name","target","value","setState","prevstate","newState","handle_login","preventDefault","data","username","state","password","fetch","method","headers","body","JSON","stringify","then","res","ok","alert","json","response","localStorage","setItem","access","refresh","logged_in","getItem","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Container,\n  Row,\n  Col\n} from \"reactstrap\";\n\n// core components\n\nclass Login extends React.Component {\n  constructor(){\n    super();\n    this.state = {\n      username: '',\n      password: '',\n      logged_in: localStorage.getItem('jwta') ? true : false,\n    };\n  }\n  \n  handle_change = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState(prevstate => {\n      const newState = { ...prevstate };\n      newState[name] = value;\n      return newState;\n    });\n  };\n\n  handle_login = e => {\n    e.preventDefault();\n    let data = {\n        username : this.state.username,\n        password : this.state.password\n    };\n    fetch('http://localhost:8000/api/token/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      \n      body: JSON.stringify(data)\n    })\n     .then(res => {\n       if(!res.ok){\n         alert(\"Unauthorized access\");\n         \n       }\n       else{\n      res.json().then((response)=>{\n          localStorage.setItem('jwta', response.access);\n        localStorage.setItem('jwtr', response.refresh);\n        this.setState({\n          logged_in: true,\n        });\n      });\n      \n      }\n      });\n  };\n\n\n  render() {\n    if(this.state.logged_in) return <Redirect to=\"/profile-page\" />;\n    return (\n      <>\n       \n        <main ref=\"main\">\n        <section className=\"section section-lg section-shaped\">\n        <h3 className=\"display-3 text-white text-center\">User Login </h3>\n          <div className=\"shape shape-style-1 shape-default\">\n            <span />\n            <span />\n            <span />\n            <span />\n            <span />\n            <span />\n            <span />\n            <span />\n          </div>\n            <Container className=\"pt-lg-md\">\n              <Row className=\"justify-content-center\">\n                <Col lg=\"5\">\n                  <Card className=\"bg-secondary shadow border-0\">\n                    \n                    <CardBody className=\"px-lg-5 py-lg-5\">\n                     \n                      <Form role=\"form\">\n                        <FormGroup className=\"mb-3\">\n                          <InputGroup className=\"input-group-alternative\">\n                            <InputGroupAddon addonType=\"prepend\">\n                              <InputGroupText>\n                                <i className=\"ni ni-circle-08\" />\n                              </InputGroupText>\n                            </InputGroupAddon>\n                            <Input placeholder=\"Username\" type=\"text\" name=\"username\"  onChange={this.handle_change} required />\n                          </InputGroup>\n                        </FormGroup>\n                        <FormGroup>\n                          <InputGroup className=\"input-group-alternative\">\n                            <InputGroupAddon addonType=\"prepend\">\n                              <InputGroupText>\n                                <i className=\"ni ni-lock-circle-open\" />\n                              </InputGroupText>\n                            </InputGroupAddon>\n                            <Input\n                              placeholder=\"Password\"\n                              type=\"password\"\n                              name=\"password\"\n                              autoComplete=\"off\"\n                              onChange={this.handle_change}\n                              required\n                            />\n                          </InputGroup>\n                        </FormGroup>\n                      \n                        <div className=\"text-center\">\n                          <Button\n                            className=\"my-4\"\n                            color=\"primary\"\n                          \n                            onClick={this.handle_login}\n                          >\n                            Sign in\n                          </Button>\n                        </div>\n                      </Form>\n                    </CardBody>\n                  </Card>\n                  <Row className=\"mt-3\">\n                   \n                    <Col className=\"text-center\" xs=\"12\">\n                      \n                         <Button  to=\"/register-page\" tag={Link}>\n                    Create New Account\n                  </Button>\n                      \n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n            </Container>\n          </section>\n        </main>\n       \n      </>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}